<project name="BrowserPlusPlatform_src" default="build_make">
    <target name="clean">
        <delete dir="build" />
    </target>
    <target name="clean_make" depends="clean" />
    <target name="clean_xcode" depends="clean" />
    <target name="clean_vc08" depends="clean" />
    <target name="build">
        <mkdir dir="build" />
    </target>
    <target name="build_make" depends="build" >
        <exec executable="cmake" dir="build" failonerror="true">
            <arg line="-G &quot;Unix Makefiles&quot; .." />
        </exec>
        <exec executable="make" dir="build" failonerror="true">
            <arg line="-j3" />
        </exec>
    </target>
    <target name="build_xcode">
        <exec executable="cmake" dir="build" failonerror="true">
            <arg line="-G &quot;Xcode&quot; .." />
        </exec>
        <exec executable="xcodebuild" dir="build" failonerror="true">
            <arg line="-project BrowserPlus.xcodeproj -alltargets" />
        </exec>
    </target>
    <target name="build_vc08">
        <mkdir dir="build" />
        <delete file="build/x1.bat" />
        <echo message="call &quot;C:\Program Files\Microsoft Visual Studio 9.0\vc\bin\vcvars32.bat&quot;" file="x1.bat" append="true" />
        <echo message="set TEMP=%WINTEMP%" file="x1.bat" append="true" />
        <echo message="set TMP=%WINTMP%" file="x1.bat" append="true" />
        <echo message="set" file="x1.bat" append="true" />
        <echo message="cmake -G &quot;Visual Studio 9 2008&quot; .." file="x1.bat" append="true" />
        <exec executable="cmd" dir="build" failonerror="true">
            <arg line="/C x1.bat" />
        </exec>
        <delete file="build/x1.bat" />
        <echo message="call &quot;C:\Program Files\Microsoft Visual Studio 9.0\vc\bin\vcvars32.bat&quot;" file="x1.bat" append="true" />
        <echo message="set TEMP=%WINTEMP%" file="x1.bat" append="true" />
        <echo message="set TMP=%WINTMP%" file="x1.bat" append="true" />
        <echo message="set" file="x1.bat" append="true" />
        <echo message="devenv BrowserPlus.sln /Build Release" file="x1.bat" append="true" />
        <exec executable="cmd" dir="build" failonerror="true">
            <arg line="/C x1.bat" />
        </exec>
        <delete file="build/x1.bat" />
        <echo message="call &quot;C:\Program Files\Microsoft Visual Studio 9.0\vc\bin\vcvars32.bat&quot;" file="x1.bat" append="true" />
        <echo message="set TEMP=%WINTEMP%" file="x1.bat" append="true" />
        <echo message="set TMP=%WINTMP%" file="x1.bat" append="true" />
        <echo message="set" file="x1.bat" append="true" />
        <echo message="devenv BrowserPlus.sln /Build Debug" file="x1.bat" append="true" />
        <exec executable="cmd" dir="build" failonerror="true">
            <arg line="/C x1.bat" />
        </exec>
        <delete file="build/x1.bat" />
    </target>
</project>

